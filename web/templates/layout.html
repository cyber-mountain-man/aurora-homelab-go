{{define "layout"}}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>{{.Title}}</title>

    <!-- Bulma CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.0/css/bulma.min.css" />

    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@2.0.2"></script>

    <link rel="stylesheet" href="/static/css/custom.css" />
</head>

<body class="has-background-dark">
    <section class="section">
        <div class="container">

            <!-- ✅ Headings stay static, not replaced by HTMX -->
            <h1 class="title has-text-white">
                Aurora Homelab
            </h1>
            <h2 class="subtitle has-text-grey-light">
                Go-powered homelab dashboard (MVP skeleton)
            </h2>

            <!-- ✅ Only this part is dynamically swapped by HTMX -->
            <div id="service-grid" hx-get="/dashboard/partial" hx-trigger="load, every 15s" hx-target="#service-grid"
                hx-swap="innerHTML">
                {{template "dashboard" .}}
            </div>

        </div>
    </section>
</body>

</html>
{{end}}